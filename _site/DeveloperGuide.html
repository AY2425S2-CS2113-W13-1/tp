<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Developer Guide | tp</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Developer Guide" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/DeveloperGuide.html" />
<meta property="og:url" content="http://localhost:4000/DeveloperGuide.html" />
<meta property="og:site_name" content="tp" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Developer Guide" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"Developer Guide","url":"http://localhost:4000/DeveloperGuide.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=f075c7c60f6e42f927cb5147a8b58f3dd1c3c32e">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">tp</a></h1>
      

      <h1 id="developer-guide">Developer Guide</h1>

<h2 id="table-of-contents">Table of Contents</h2>

<ol>
  <li><a href="#acknowledgements">Acknowledgements</a></li>
  <li><a href="#setting-up-getting-started">Setting up, getting started</a></li>
  <li><a href="#design">Design</a>
    <ul>
      <li><a href="#architecture">Architecture</a></li>
      <li><a href="#ui-component">UI Component</a></li>
      <li><a href="#logic-component">Logic Component</a></li>
      <li><a href="#model-component">Model Component</a></li>
      <li><a href="#storage-component">Storage Component</a></li>
      <li><a href="#round-component">Round Component</a></li>
      <li><a href="#score-component">Score Component</a></li>
    </ul>
  </li>
  <li><a href="#implementation">Implementation</a></li>
  <li><a href="#documentation-logging-testing-configuration-dev-ops">Documentation, logging, testing, configuration, dev-ops</a></li>
  <li><a href="#documentation">Documentation</a></li>
  <li><a href="#appendix-requirements">Appendix: Requirements</a>
    <ul>
      <li><a href="#product-scope">Product Scope</a></li>
      <li><a href="#user-stories">User Stories</a></li>
      <li><a href="#use-cases">Use Cases</a></li>
      <li><a href="#non-functional-requirements">Non-Functional Requirements</a></li>
      <li><a href="#glossary">Glossary</a></li>
    </ul>
  </li>
  <li><a href="">Appendix: Instructions for manual testing</a></li>
</ol>

<h2 id="acknowledgements">Acknowledgements</h2>
<p>Thanks Balatro, CS2113 Team and our TA Ethan Soh @paulifyer.</p>

<h2 id="setting-up-getting-started">Setting up, getting started</h2>

<p>This Developer Guide describes the design, architecture, and implementation of the Javatro application. It includes UML diagrams and explanations to help developers understand and contribute to the project.</p>

<ol>
  <li><strong>Ensure JDK 17 or later is installed</strong>.</li>
  <li><strong>Import the project as a Gradle project</strong>.</li>
  <li><strong>Build and run the application using the provided Gradle tasks</strong>.</li>
</ol>

<h2 id="design">Design</h2>

<h3 id="architecture">Architecture</h3>

<p>The application follows a <strong>Model-View-Controller (MVC)</strong> architecture pattern. The core logic, display components, and manager are modularized to promote separation of concerns.</p>

<p><img src="dg_images/architecture.png" alt="" /></p>

<h4 id="application-initialization">Application Initialization</h4>

<p><img src="dg_images/application_init.png" alt="" /></p>

<h4 id="gameplay-interaction">Gameplay Interaction</h4>

<p><img src="dg_images/gameplay_interaction_sequence_diagram.png" alt="" /></p>

<hr />

<h2 id="ui-component">UI Component</h2>

<p><img src="dg_images/gameplay_sequence.png" alt="" /></p>

<p><em>Illustrates how <code class="language-plaintext highlighter-rouge">GameScreen</code> updates its display when the game state changes.</em></p>

<hr />

<p><img src="dg_images/ui_screens_diagram.png" alt="" />
<em>Simplified to highlight core relationships. The <code class="language-plaintext highlighter-rouge">UI</code> manages <code class="language-plaintext highlighter-rouge">Screen</code> instances, and <code class="language-plaintext highlighter-rouge">GameScreen</code> extends <code class="language-plaintext highlighter-rouge">Screen</code> while observing game state changes.</em></p>

<h3 id="1-overview">1. Overview</h3>
<p>The <strong>UI module</strong> manages screen transitions, user input, and formatted content rendering (e.g., bordered menus, card art). Designed using the <strong>Singleton pattern</strong>, it ensures a single point of control for display operations. This guide details the architecture, key components, and enhancements like dynamic screen rendering and transition logic.</p>

<hr />

<h3 id="2-architectural-design">2. Architectural Design</h3>

<h4 id="21-high-level-architecture">2.1. High-Level Architecture</h4>
<p>The UI follows a <strong>Model-View-Controller (MVC)</strong>-inspired design:</p>
<ul>
  <li><strong>Model</strong>: <code class="language-plaintext highlighter-rouge">JavatroCore</code> (game state).</li>
  <li><strong>View</strong>: <code class="language-plaintext highlighter-rouge">Screen</code> subclasses (e.g., <code class="language-plaintext highlighter-rouge">GameScreen</code>, <code class="language-plaintext highlighter-rouge">StartScreen</code>).</li>
  <li><strong>Controller</strong>: <code class="language-plaintext highlighter-rouge">UI</code> class (manages transitions, input parsing).</li>
</ul>

<h5 id="key-design-patterns">Key Design Patterns:</h5>
<ol>
  <li><strong>Singleton Pattern</strong>: Ensures a single <code class="language-plaintext highlighter-rouge">UI</code> instance for centralized screen management.</li>
  <li><strong>Observer Pattern</strong>: <code class="language-plaintext highlighter-rouge">GameScreen</code> listens to <code class="language-plaintext highlighter-rouge">JavatroCore</code> for state changes (e.g., score updates).</li>
  <li><strong>State Pattern</strong>: Screens encapsulate state-specific behavior (e.g., <code class="language-plaintext highlighter-rouge">HelpScreen</code> vs. <code class="language-plaintext highlighter-rouge">GameScreen</code>).</li>
</ol>

<h4 id="22-rationale-for-key-decisions">2.2. Rationale for Key Decisions</h4>
<ul>
  <li><strong>ANSI/Unicode Formatting</strong>: Enables rich terminal UIs without external libraries.</li>
  <li><strong>Abstract <code class="language-plaintext highlighter-rouge">Screen</code> Class</strong>: Promotes code reuse (e.g., <code class="language-plaintext highlighter-rouge">displayOptions()</code> for command menus).</li>
  <li><strong>Centralized <code class="language-plaintext highlighter-rouge">UI</code> Class</strong>: Simplifies debugging and ensures consistent transitions.</li>
</ul>

<hr />

<h3 id="3-component-level-design">3. Component-Level Design</h3>

<h4 id="31-the-ui-class">3.1. The <code class="language-plaintext highlighter-rouge">UI</code> Class</h4>
<p><strong>Responsibilities</strong>:</p>
<ul>
  <li><strong>Screen Management</strong>: Stores static references to all screens and handles transitions via <code class="language-plaintext highlighter-rouge">setCurrentScreen()</code>.</li>
  <li><strong>Formatted Output</strong>: Methods like <code class="language-plaintext highlighter-rouge">printBorderedContent()</code> and <code class="language-plaintext highlighter-rouge">centerText()</code> standardize layouts.</li>
  <li><strong>Utility Functions</strong>: <code class="language-plaintext highlighter-rouge">clearScreen()</code>, <code class="language-plaintext highlighter-rouge">getCardArtLines()</code> (renders ASCII card art).</li>
</ul>

<p><strong>Key Code Snippet</strong>:</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">setCurrentScreen</span><span class="o">(</span><span class="nc">Screen</span> <span class="n">screen</span><span class="o">)</span> <span class="o">{</span>  
    <span class="n">previousScreen</span> <span class="o">=</span> <span class="n">currentScreen</span><span class="o">;</span>  
    <span class="n">currentScreen</span> <span class="o">=</span> <span class="n">screen</span><span class="o">;</span>  
    <span class="n">currentScreen</span><span class="o">.</span><span class="na">displayScreen</span><span class="o">();</span> <span class="c1">// Triggers screen-specific rendering  </span>
    <span class="no">PARSER</span><span class="o">.</span><span class="na">getOptionInput</span><span class="o">();</span> <span class="c1">// Handle user input  </span>
<span class="o">}</span>  
</code></pre></div></div>

<h4 id="32-the-screen-class-hierarchy">3.2. The <code class="language-plaintext highlighter-rouge">Screen</code> Class Hierarchy</h4>
<ul>
  <li><strong>Abstract <code class="language-plaintext highlighter-rouge">Screen</code> Class</strong>:
    <ul>
      <li>Defines <code class="language-plaintext highlighter-rouge">displayScreen()</code> (abstract) and <code class="language-plaintext highlighter-rouge">displayOptions()</code> (common command menu).</li>
      <li>Manages <code class="language-plaintext highlighter-rouge">commandMap</code> (list of user-selectable options).</li>
    </ul>
  </li>
  <li><strong>Concrete Screens</strong>:
    <ul>
      <li><strong><code class="language-plaintext highlighter-rouge">GameScreen</code></strong>: Displays real-time game stats, card art, and listens for state changes.</li>
      <li><strong><code class="language-plaintext highlighter-rouge">HelpScreen</code></strong>: Shows static help content.</li>
    </ul>
  </li>
</ul>

<p><strong>Example: <code class="language-plaintext highlighter-rouge">GameScreen</code> Property Listener</strong></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">propertyChange</span><span class="o">(</span><span class="nc">PropertyChangeEvent</span> <span class="n">evt</span><span class="o">)</span> <span class="o">{</span>  
    <span class="k">switch</span> <span class="o">(</span><span class="n">evt</span><span class="o">.</span><span class="na">getPropertyName</span><span class="o">())</span> <span class="o">{</span>  
        <span class="k">case</span> <span class="s">"currentScore"</span><span class="o">:</span>  
            <span class="n">roundScore</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Long</span><span class="o">)</span> <span class="n">evt</span><span class="o">.</span><span class="na">getNewValue</span><span class="o">();</span>  
            <span class="k">break</span><span class="o">;</span>  
        <span class="c1">// ... other cases  </span>
    <span class="o">}</span>  
    <span class="n">displayScreen</span><span class="o">();</span> <span class="c1">// Re-render UI on state change  </span>
<span class="o">}</span>  
</code></pre></div></div>

<hr />

<h3 id="5-key-enhancements">5. Key Enhancements</h3>

<h4 id="51-enhancement-screen-transition-mechanism">5.1. Enhancement: Screen Transition Mechanism</h4>
<p><strong>Implementation</strong>:</p>
<ul>
  <li><strong>Transition Messages</strong>: ANSI-formatted logs (e.g., <code class="language-plaintext highlighter-rouge">Transitioning to: GameScreen</code>).</li>
  <li><strong>Back Navigation</strong>: <code class="language-plaintext highlighter-rouge">previousScreen</code> allows reverting to prior states (e.g., exiting <code class="language-plaintext highlighter-rouge">HelpScreen</code>).</li>
</ul>

<p><strong>Sequence Diagram</strong>:<br />
<img src="dg_images/gameplay_enhance_diagram.png" alt="" /></p>

<p><strong>Alternatives Considered</strong>:</p>
<ul>
  <li><strong>Stack-Based History</strong>: Rejected due to limited navigation depth requirements.</li>
  <li><strong>Immediate Input Handling</strong>: Chose deferred parsing via <code class="language-plaintext highlighter-rouge">Parser</code> to decouple input from rendering.</li>
</ul>

<h4 id="52-enhancement-dynamic-card-rendering">5.2. Enhancement: Dynamic Card Rendering</h4>
<ul>
  <li><strong>Card Art Generation</strong>: <code class="language-plaintext highlighter-rouge">CardRenderer</code> converts <code class="language-plaintext highlighter-rouge">Card</code> objects to ASCII art with ANSI colour formatting.</li>
  <li><strong>Grid Layout</strong>: Renders 8 cards in two rows, spaced with ANSI backgrounds.</li>
</ul>

<p><strong>Code Snippet</strong>:</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">getCardArtLines</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Card</span><span class="o">&gt;</span> <span class="n">hand</span><span class="o">)</span> <span class="o">{</span>  
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">lines</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>  
    <span class="nc">String</span><span class="o">[][]</span> <span class="n">renderedCards</span> <span class="o">=</span> <span class="n">hand</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="nl">CardRenderer:</span><span class="o">:</span><span class="n">renderCard</span><span class="o">).</span><span class="na">toArray</span><span class="o">(</span><span class="nc">String</span><span class="o">[][]::</span><span class="k">new</span><span class="o">);</span>  
    <span class="c1">// Combine lines horizontally  </span>
    <span class="k">return</span> <span class="n">lines</span><span class="o">;</span>  
<span class="o">}</span>  
</code></pre></div></div>

<h4 id="53-challenge-emoji-and-unicode-compatibility"><strong>5.3. Challenge: Emoji and Unicode Compatibility</strong></h4>

<h5 id="initial-attempt"><strong>Initial Attempt</strong></h5>
<p>Emojis and Unicode symbols (e.g., 🃏, ♥️, ♥) were initially incorporated into the UI to enhance visual appeal. For example:</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Early prototype (discarded)  </span>
<span class="kd">private</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">getSuitSymbol</span><span class="o">(</span><span class="nc">Card</span><span class="o">.</span><span class="na">Suit</span> <span class="n">suit</span><span class="o">)</span> <span class="o">{</span>  
    <span class="k">return</span> <span class="nf">switch</span> <span class="o">(</span><span class="n">suit</span><span class="o">)</span> <span class="o">{</span>  
        <span class="k">case</span> <span class="no">HEARTS</span> <span class="o">-&gt;</span> <span class="s">"♥️"</span><span class="o">;</span>  
        <span class="k">case</span> <span class="no">DIAMONDS</span> <span class="o">-&gt;</span> <span class="s">"♦️"</span><span class="o">;</span>  
        <span class="k">case</span> <span class="no">CLUBS</span> <span class="o">-&gt;</span> <span class="s">"♣️"</span><span class="o">;</span>  
        <span class="k">case</span> <span class="no">SPADES</span> <span class="o">-&gt;</span> <span class="s">"♠️"</span><span class="o">;</span>  
    <span class="o">};</span>  
<span class="o">}</span>  
</code></pre></div></div>

<h5 id="challenges"><strong>Challenges</strong></h5>
<ol>
  <li><strong>Inconsistent Spacing</strong>:
    <ul>
      <li>Emojis/Unicode symbols vary in display width (e.g., <code class="language-plaintext highlighter-rouge">♥️</code> vs. <code class="language-plaintext highlighter-rouge">♠️</code>), causing misalignment in card art.</li>
      <li>Example: A heart symbol might be very slightly larger than a regular spacing, breaking grid layouts.</li>
    </ul>
  </li>
  <li><strong>Terminal Compatibility</strong>:
    <ul>
      <li>Terminals like <strong>Windows CMD / Windows Powershell</strong> require <code class="language-plaintext highlighter-rouge">chcp 65001</code> to display Unicode, which is error-prone for users.</li>
      <li>Colored emojis are unsupported in many terminals, leading to monochrome or placeholder symbols (e.g., ` `).</li>
    </ul>
  </li>
  <li><strong>ANSI Overlap</strong>:
    <ul>
      <li>Combining ANSI color codes with Unicode symbols introduced unpredictable formatting (e.g., background colors bleeding into adjacent text).</li>
    </ul>
  </li>
</ol>

<h5 id="final-approach"><strong>Final Approach</strong></h5>
<p>To ensure cross-terminal compatibility and consistent spacing, <strong>letters</strong> (<code class="language-plaintext highlighter-rouge">H</code>, <code class="language-plaintext highlighter-rouge">D</code>, <code class="language-plaintext highlighter-rouge">C</code>, <code class="language-plaintext highlighter-rouge">S</code>) replaced symbols:</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Current implementation (CardRenderer.java)  </span>
<span class="kd">private</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">getSuitSymbol</span><span class="o">(</span><span class="nc">Card</span><span class="o">.</span><span class="na">Suit</span> <span class="n">suit</span><span class="o">)</span> <span class="o">{</span>  
    <span class="k">return</span> <span class="nf">switch</span> <span class="o">(</span><span class="n">suit</span><span class="o">)</span> <span class="o">{</span>  
        <span class="k">case</span> <span class="no">HEARTS</span> <span class="o">-&gt;</span> <span class="s">"H"</span><span class="o">;</span>  
        <span class="k">case</span> <span class="no">DIAMONDS</span> <span class="o">-&gt;</span> <span class="s">"D"</span><span class="o">;</span>  
        <span class="k">case</span> <span class="no">CLUBS</span> <span class="o">-&gt;</span> <span class="s">"C"</span><span class="o">;</span>  
        <span class="k">case</span> <span class="no">SPADES</span> <span class="o">-&gt;</span> <span class="s">"S"</span><span class="o">;</span>  
    <span class="o">};</span>  
<span class="o">}</span>  
</code></pre></div></div>
<ul>
  <li><strong>Advantages</strong>:
    <ul>
      <li>Fixed-width characters ensure alignment in card art.</li>
      <li>Works universally across terminals without configuration.</li>
      <li>ANSI colors apply cleanly to letters (e.g., <code class="language-plaintext highlighter-rouge">H</code> in red for hearts).</li>
    </ul>
  </li>
</ul>

<hr />

<h4 id="uml-diagrams"><strong>UML Diagrams</strong></h4>

<h5 id="cardrenderer-class-diagram"><strong>CardRenderer Class Diagram</strong></h5>
<p><img src="dg_images/cardrenderer_class.png" alt="" />
<em>The <code class="language-plaintext highlighter-rouge">CardRenderer</code> class maps suits to letters (<code class="language-plaintext highlighter-rouge">H</code>, <code class="language-plaintext highlighter-rouge">D</code>, <code class="language-plaintext highlighter-rouge">C</code>, <code class="language-plaintext highlighter-rouge">S</code>) and colors using ANSI codes.</em></p>

<h5 id="card-rendering-sequence-diagram"><strong>Card Rendering Sequence Diagram</strong></h5>
<p><img src="dg_images/cardrenderer_sequence_diagram.png" alt="" /></p>

<h4 id="key-takeaways"><strong>Key Takeaways</strong></h4>
<ul>
  <li><strong>Prioritize Functionality Over Aesthetics</strong>: Letters ensured reliability, while emojis introduced terminal-specific bugs.</li>
  <li><strong>Test Across Environments</strong>: The decision to avoid Unicode was driven by rigorous testing in CMD, PowerShell, and Unix terminals.</li>
  <li><strong>Code Hygiene</strong>: Unused symbols (e.g., <code class="language-plaintext highlighter-rouge">♠</code> in <code class="language-plaintext highlighter-rouge">UI</code>) should be removed in future refactoring.</li>
</ul>

<p>This approach balances visual clarity with technical robustness, ensuring the UI works seamlessly for all users.</p>

<hr />

<h3 id="6-future-considerations">6. Future Considerations</h3>

<ol>
  <li><strong>GUI Framework Integration</strong>: Migrate to JavaFX for animations and mouse support.</li>
  <li><strong>Theming System</strong>: Allow users to customize colors via config files.</li>
  <li><strong>Accessibility Mode</strong>: Add high-contrast themes and screen-reader support.</li>
</ol>

<hr />

<h3 id="7-conclusion">7. Conclusion</h3>
<p>The UI module’s design prioritizes modularity, extensibility, and terminal compatibility. By combining design patterns like Singleton and Observer with ANSI formatting, it delivers a responsive and visually consistent experience. Future developers can extend it by adding new <code class="language-plaintext highlighter-rouge">Screen</code> subclasses or integrating modern GUI frameworks.</p>

<h2 id="model-component">Model Component</h2>

<h2 id="ante-and-blind-class-system-"><strong>Ante and Blind class system :</strong></h2>

<h3 id="1-introduction"><strong>1. Introduction</strong></h3>

<p>The <strong>Ante and Blind System</strong> in the game determines the minimum required score to beat for each round and regulates the increasing stakes as the game progresses. The <strong>Ante</strong> sets a base score to beat, while the <strong>Blind</strong> system introduces different blind levels (SMALL, LARGE, BOSS) each with a unique multiplier score effect to ensure competitive play. This section provides an in-depth look into its implementation, design choices, and a UML sequence diagram illustrating interactions.</p>

<h3 id="2-implementation"><strong>2. Implementation</strong></h3>

<h4 id="21-class-overview"><strong>2.1 Class Overview</strong></h4>

<p>The Ante class manages the ante value and blind progression. There are a total of 8 antes where each ante consists of 3 blinds (SMALL, LARGE, BOSS). The ante class maintains the current ante level the gameplay is at , determines the betting stakes, and updates the blind stage as the game progresses.</p>

<h4 id="22-attributes"><strong>2.2 Attributes</strong></h4>

<p><em>int MAX_ANTE_COUNT</em> = 8; – Defines the maximum ante level progression.
<em>int anteCount;</em> – Stores the current ante level.
<em>Blind blind;</em> – Represents the current blind stage.
<em>int[] anteScore;</em> – An array storing predefined ante values for each level.</p>

<h4 id="23-enum-blind-levels"><strong>2.3 Enum: Blind Levels</strong></h4>

<p>The <strong>Blind</strong> enum represents different blind levels, each with a unique multiplier affecting the ante base score. Additionally, the <strong>SMALL</strong> and <strong>LARGE</strong> blinds are optional, giving the players a choice to accept or reject, meanwhile the <strong>BOSS</strong> blind is compulsory for the players to proceed to the next round.</p>

<p><strong>Code Snippet</strong> :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public enum Blind {
SMALL_BLIND(1.0, "SMALL BLIND"),
LARGE_BLIND(1.5, "LARGE BLIND"),
BOSS_BLIND(2.0, "BOSS BLIND");

private final double multiplier;
private final String name;

Blind(double multiplier, String name) {
this.multiplier = multiplier;
this.name = name;
}
public double getMultiplier() {
return multiplier;
}
public String getName() {
return name;
}
}
</code></pre></div></div>

<h4 id="24-methods"><strong>2.4 Methods</strong></h4>
<p><strong><em>public Ante()</em>:</strong> 
Initializes ante at level 1 with Small Blind.</p>

<p><strong>public int getRoundScore()</strong> :
Returns the ante score multiplied by the unique blind multiplier.</p>

<p><strong><em>public void setAnteCount(int anteCount)</em>:</strong>
Updates the ante count within valid bounds.</p>

<p><strong><em>public void resetAnte()</em>:</strong>
Resets ante to level 1 and Small Blind.</p>

<p><strong><em>public void nextRound()</em>:</strong>
Progresses to the next blind level or increases ante level when Boss Blind is reached.</p>

<p><strong>### 3. Design Considerations</strong></p>

<h2 id="-31-alternatives-considered">** 3.1 Alternatives Considered**</h2>

<p><strong>1. Fixed Ante and Blind System</strong>:
   Pros: Simple to implement and requires minimal logic.
   Cons: Lacks adaptability, making the game less engaging over time.</p>

<p><strong>2. Dynamic Blind Adjustment</strong>:
   Pros: Adjusts difficulty dynamically, providing a more balanced progression.
   Cons: Requires additional tracking and logic to manage changes effectively.</p>

<p>## <strong>3.2 Chosen Approach</strong>
   To balance simplicity and dynamic progression, the enum-based structured Blind System. It cycles through Small Blind → Large Blind → Boss Blind, ensuring controlled progression while increasing the ante at the end of each cycle. This approach keeps gameplay engaging without overcomplicating the logic. Moreover the array-based ante progression simplifies lookup and ensures consistent bet increases. This structure prevents unfair jumps in bet sizes, ensuring a fairer experience for the players.</p>

<h2 id="class-diagram"><strong>Class Diagram:</strong></h2>

<p><img src="dg_images/ante_class_diagram.png" alt="" /></p>

<p>The Ante class manages the ante count, blind levels, and scores in the game, utilizing the Blind enumeration for different blind levels.</p>

<p><img src="dg_images/ante_2.png" alt="" /></p>

<p>The Option interface is implemented by AcceptBlindOption and RejectBlindOption, which interact with JavatroCore, JavatroManager, and UI to manage blind options in the game.</p>

<h2 id="sequence-diagram"><strong>Sequence Diagram:</strong></h2>

<p><img src="dg_images/option_sequence.png" alt="" /></p>

<p>This sequence diagram illustrates the interactions between the Ante and Blind classes, where Ante sets and retrieves blind information, as well as manages ante-related operations such as updating scores and counts.</p>

<p><img src="dg_images/option_sequence_2.png" alt="" /></p>

<p>This sequence diagram shows the interactions between the Option implementations (AcceptBlindOption and RejectBlindOption), and their interactions with JavatroCore, JavatroManager, and UI, including actions such as beginning the game, updating ante, and retrieving screens.</p>

<hr />

<h3 id="logic-component">Logic Component</h3>

<p><img src="dg_images/logic_sequence.png" alt="" /></p>

<p>The Logic Component serves as the Controller in the Model-View-Controller (MVC) architecture. It is responsible for managing the application’s core logic, processing user commands, and interacting with the Model (e.g., Deck, Ante, PokerHand) through well-defined interfaces. It updates the View through the manager classes.</p>

<p>All classes within the core package make up the Logic Component. This does not include the Deck, Ante, and PokerHand classes, as these are part of the Model. Instead, the Logic Component uses these classes to perform operations and process commands.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">JavatroCore</code>: The central controller managing the game flow, initializing components, and processing game state updates.</li>
</ul>

<p>This component interacts with the UI and Manager components to process user inputs and update the view accordingly.</p>

<hr />

<h3 id="round-component">Round Component</h3>

<p>The <strong>Round Component</strong> is responsible for managing the state and flow of a single round in the game. It encapsulates the logic for handling round-specific actions, configurations, and any special effects.</p>

<h4 id="responsibilities">Responsibilities</h4>
<ul>
  <li>Manage the state of the current round, including the cards dealt, scores, and player actions.</li>
  <li>Handle round-specific configurations and validation.</li>
  <li>Notify other components (e.g., UI, Logic) of state changes during the round.</li>
</ul>

<h4 id="key-classes">Key Classes</h4>
<ul>
  <li><strong>Round</strong>: The main class that orchestrates the round’s lifecycle.</li>
  <li><strong>RoundState</strong>: Tracks the current state of the round (e.g., active, completed).</li>
  <li><strong>RoundActions</strong>: Encapsulates actions that can be performed during the round (e.g., draw, discard).</li>
  <li><strong>RoundConfig</strong>: Stores configuration settings for the round (e.g., max cards, scoring rules).</li>
  <li><strong>RoundObservable</strong>: Implements the observer pattern to notify listeners (e.g., UI) of state changes.</li>
</ul>

<p><img src="dg_images/round_1.png" alt="" /></p>

<h4 id="sequence-diagram-round-initialisation">Sequence Diagram: Round Initialisation</h4>

<p>The following sequence diagram illustrates the initialization process of a round, including configuration setup and state management:</p>

<p><img src="dg_images/round_2.png" alt="" /></p>

<p>Note: Due to limitations of mermaid rendering, the activation bars for constructors may not appear exactly aligned with their corresponding object lifelines. The note in the diagram clarifies when the constructor is activated.</p>

<h3 id="score-component">Score Component</h3>
<p>The <strong>Score Component</strong> is part of Javatro’s scoring system, responsible for calculating the final score based on the played hand, cards, and active jokers. It encapsulates the logic for handling score calculations.</p>

<h4 id="responsibilities-1">Responsibilities</h4>
<ul>
  <li>Handle calculation of scoring played hands, factoring in round-specific configurations and validation.</li>
</ul>

<h4 id="class-diagram-score-and-involved-classes">Class Diagram: Score and involved classes</h4>
<p><img src="dg_images/score_1.png" alt="" /></p>

<h4 id="score-calculation-overview">Score Calculation Overview</h4>
<p>Below is how the Score Class returns the calculated score:</p>

<ol>
  <li>
    <p><code class="language-plaintext highlighter-rouge">Round</code> initializes <code class="language-plaintext highlighter-rouge">Score</code>, and <code class="language-plaintext highlighter-rouge">Score</code> invokes the <code class="language-plaintext highlighter-rouge">getChips()</code> method from <code class="language-plaintext highlighter-rouge">PokerHand</code>.
<img src="dg_images/score_2.png" alt="" /></p>
  </li>
  <li>
    <p>With each <code class="language-plaintext highlighter-rouge">Card</code> passed from <code class="language-plaintext highlighter-rouge">Score</code>, <code class="language-plaintext highlighter-rouge">Score</code> checks whether the card played satisfies BossType conditions, 
and applies effects if the condition is satisfied. 
Else, the <code class="language-plaintext highlighter-rouge">Card</code> is scored, and each <code class="language-plaintext highlighter-rouge">Joker</code> in <code class="language-plaintext highlighter-rouge">heldJokers</code> is checked if the <code class="language-plaintext highlighter-rouge">Card</code> can interact with the <code class="language-plaintext highlighter-rouge">Joker</code></p>
  </li>
</ol>

<p><img src="dg_images/score_3.png" alt="" /></p>

<ol>
  <li>
    <p>After each <code class="language-plaintext highlighter-rouge">Card</code> is scored, any <code class="language-plaintext highlighter-rouge">Joker</code> with the <code class="language-plaintext highlighter-rouge">AFTERHANDPLAY</code> enum is interacted with.
<img src="dg_images/score_4.png" alt="" /></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">Score</code> rounds the final score using <code class="language-plaintext highlighter-rouge">calculateFinalScore()</code> and returns the final <code class="language-plaintext highlighter-rouge">long</code> value to <code class="language-plaintext highlighter-rouge">Round</code>.
<img src="dg_images/score_5.png" alt="" /></p>
  </li>
</ol>

<h4 id="overall-sequence-diagram-for-score-calculation">Overall Sequence Diagram for Score Calculation</h4>
<p><img src="dg_images/overall_scoring.png" alt="" /></p>

<h2 id="implementation">Implementation</h2>

<h3 id="logic-flow">Logic Flow</h3>

<p>The application’s logic flow is divided into several parts:</p>

<ol>
  <li><strong>Initialization</strong>: The application initializes core components and prepares the user interface.</li>
  <li><strong>Gameplay</strong>: Users interact with the UI to perform actions, triggering methods in the core logic.</li>
  <li><strong>Round Progression</strong>: Ante handling and deck operations are updated between rounds.</li>
  <li><strong>Evaluation</strong>: Poker hands are evaluated using the <code class="language-plaintext highlighter-rouge">PokerHand</code> class.</li>
</ol>

<h3 id="overview">Overview</h3>

<p>The Javatro application consists of several packages:</p>

<ul>
  <li>``: The main entry point and application setup.</li>
  <li>``: Core logic, including card handling, ante management, and game rules.</li>
  <li>``: User interface handling, including screens and rendering.</li>
  <li>``: Management of different game states and transitions.</li>
</ul>

<h3 id="key-components">Key Components</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Javatro</code>: Initializes and starts the application.</li>
  <li><code class="language-plaintext highlighter-rouge">JavatroCore</code>: Handles core game logic such as dealing cards, evaluating hands, and managing ante.</li>
  <li><code class="language-plaintext highlighter-rouge">Deck</code>: Manages the deck of cards, shuffling, drawing, etc.</li>
  <li><code class="language-plaintext highlighter-rouge">Ante</code>: Handles the ante mechanism, score calculation, and progression through rounds.</li>
  <li><code class="language-plaintext highlighter-rouge">PokerHand</code>: Handles poker-specific card evaluation.</li>
</ul>

<h3 id="important-methods">Important Methods</h3>

<ol>
  <li></li>
</ol>

<ul>
  <li><code class="language-plaintext highlighter-rouge">main()</code>: Initializes the application.</li>
</ul>

<ol>
  <li></li>
</ol>

<ul>
  <li><code class="language-plaintext highlighter-rouge">initialize()</code>: Sets up core components.</li>
  <li><code class="language-plaintext highlighter-rouge">playRound()</code>: Manages the game round progression.</li>
</ul>

<ol>
  <li></li>
</ol>

<ul>
  <li><code class="language-plaintext highlighter-rouge">draw()</code>: Draws a card from the deck.</li>
  <li><code class="language-plaintext highlighter-rouge">shuffle()</code>: Shuffles the deck.</li>
</ul>

<ol>
  <li></li>
</ol>

<ul>
  <li><code class="language-plaintext highlighter-rouge">getRoundScore()</code>: Retrieves the score for the current round.</li>
  <li><code class="language-plaintext highlighter-rouge">nextRound()</code>: Progresses to the next round.</li>
</ul>

<ol>
  <li></li>
</ol>

<ul>
  <li><code class="language-plaintext highlighter-rouge">evaluateHand()</code>: Evaluates a set of cards according to poker rules.</li>
</ul>

<hr />

<h2 id="documentation-logging-testing-configuration-dev-ops">Documentation, logging, testing, configuration, dev-ops</h2>

<h3 id="documentation">Documentation</h3>

<p>The documentation is structured as follows:</p>

<ul>
  <li><strong>User Guide</strong>: Located at <code class="language-plaintext highlighter-rouge">docs/UserGuide.md</code>. Describes how to set up and use the application.</li>
  <li><strong>Developer Guide</strong>: Located at <code class="language-plaintext highlighter-rouge">docs/DeveloperGuide.md</code>. Contains design explanations, architecture, and implementation details.</li>
  <li><strong>API Documentation</strong>: Generated using Javadoc. To generate, run:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./gradlew javadoc
</code></pre></div></div>

<p>Output will be available under <code class="language-plaintext highlighter-rouge">build/docs/javadoc/</code>.</p>

<ul>
  <li>Rest To Be Add</li>
</ul>

<hr />

<h2 id="appendix-requirements">Appendix: Requirements</h2>

<h2 id="product-scope">Product Scope</h2>

<h3 id="target-user-profile">Target user profile:</h3>
<ul>
  <li>Card game enthusiasts and roguelike fans who enjoy strategic deck-building experiences and prefer playing games in a command-line interface (CLI) environment.</li>
  <li>Tech-savvy individuals who are comfortable with command-line interfaces and prefer typing commands over using graphical user interfaces.</li>
  <li>Roguelike and card game enthusiasts who enjoy strategic, turn-based gameplay and have an interest in card games, particularly those with roguelike elements.</li>
  <li>Minimalist gamers who appreciate minimalist design and are drawn to text-based gaming experiences that focus on gameplay depth rather than visual aesthetics.</li>
  <li>Cross-platform users who use various operating systems and seek a consistent gaming experience across platforms, which a CLI application can provide.</li>
</ul>

<h3 id="value-proposition">Value proposition:</h3>
<p>Javatro provides a streamlined, text-based roguelike deck-building experience inspired by Balatro. It offers a strategic and replayable poker-based gameplay loop in a lightweight, no-graphics format, making it accessible for users who enjoy card games without requiring a graphical interface.</p>

<h2 id="user-stories">User Stories</h2>

<p><strong>Priorities:</strong> High (must have) - <code class="language-plaintext highlighter-rouge">* * *</code>, Medium (nice to have) - <code class="language-plaintext highlighter-rouge">* *</code>, Low (unlikely to have) - <code class="language-plaintext highlighter-rouge">*</code></p>

<table>
  <thead>
    <tr>
      <th>Priority</th>
      <th>User Role</th>
      <th>User Story</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>* * *</td>
      <td>New Player</td>
      <td>I want to start a new game so that I can begin a new deck-building run.</td>
    </tr>
    <tr>
      <td>* * *</td>
      <td>Active Player</td>
      <td>I want to play a hand of poker using my cards so that I can progress in the game.</td>
    </tr>
    <tr>
      <td>* * *</td>
      <td>Active Player</td>
      <td>I want to discard and redraw a limited number of cards so that I can improve my current hand.</td>
    </tr>
    <tr>
      <td>* * *</td>
      <td>Active Player</td>
      <td>I want to see my score and chips after playing a hand so that I can keep track of my progress.</td>
    </tr>
    <tr>
      <td>* * *</td>
      <td>Active Player</td>
      <td>I want to earn multipliers based on the poker hand I complete so that I can maximize my score.</td>
    </tr>
    <tr>
      <td>* * *</td>
      <td>New Player</td>
      <td>I want to view instructions so that I can understand how to play the game.</td>
    </tr>
    <tr>
      <td>* * *</td>
      <td>Active Player</td>
      <td>I want to save my progress so that I can resume the game later.</td>
    </tr>
    <tr>
      <td>* * *</td>
      <td>Active Player</td>
      <td>I want to load a saved game so that I can continue my progress.</td>
    </tr>
    <tr>
      <td>* *</td>
      <td>Active Player</td>
      <td>I want to sort my cards by rank or suit so that I can better organize my hand.</td>
    </tr>
    <tr>
      <td>* *</td>
      <td>Active Player</td>
      <td>I want to view game statistics so that I can track my performance over multiple runs.</td>
    </tr>
    <tr>
      <td>* *</td>
      <td>Advanced Player</td>
      <td>I want to enable advanced features so that I can enjoy a more complex gameplay experience.</td>
    </tr>
    <tr>
      <td>* *</td>
      <td>Player</td>
      <td>I want to view a help menu so that I can learn more about the available commands.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Active Player</td>
      <td>I want to customize gameplay settings so that I can tailor the game experience to my preferences.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Advanced Player</td>
      <td>I want to use additional deck types so that I can have a varied experience.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Advanced Player</td>
      <td>I want to enable hard mode so that I can increase the difficulty of the game.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Active Player</td>
      <td>I want to view my progress summary after each run so that I can evaluate my performance.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Active Player</td>
      <td>I want to undo my last move so that I can correct mistakes.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Active Player</td>
      <td>I want to replay previous rounds so that I can refine my strategies.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Active Player</td>
      <td>I want to set a high score target so that I can challenge myself.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Active Player</td>
      <td>I want to compare my score with other players so that I can see where I stand.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Active Player</td>
      <td>I want to pause the game so that I can take breaks when necessary.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Active Player</td>
      <td>I want to change controls so that I can personalize the game experience.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Active Player</td>
      <td>I want to view a log of previous moves so that I can analyze my strategies.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Active Player</td>
      <td>I want to restart the game so that I can try different strategies.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Active Player</td>
      <td>I want to adjust volume settings so that I can control the audio experience.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Advanced Player</td>
      <td>I want to customize card designs so that I can enhance my visual experience.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Advanced Player</td>
      <td>I want to view daily challenges so that I can have new objectives to pursue.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Advanced Player</td>
      <td>I want to participate in weekly events so that I can earn special rewards.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Advanced Player</td>
      <td>I want to access leaderboards so that I can compare my performance globally.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Advanced Player</td>
      <td>I want to unlock achievements so that I can track my milestones.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Advanced Player</td>
      <td>I want to review past games so that I can learn from my mistakes.</td>
    </tr>
    <tr>
      <td>*</td>
      <td>Advanced Player</td>
      <td>I want to export my progress so that I can preserve my achievements.</td>
    </tr>
  </tbody>
</table>

<h2 id="use-cases">Use Cases</h2>

<p>(For all use cases below, the <strong>System</strong> is the <code class="language-plaintext highlighter-rouge">Javatro</code> and the <strong>Actor</strong> is the <code class="language-plaintext highlighter-rouge">User</code>, unless specified otherwise)</p>

<hr />

<h3 id="use-case-discard-and-draw-cards">Use case: Discard and Draw Cards</h3>

<p><strong>MSS (Main Success Scenario)</strong></p>

<ol>
  <li>User requests to view their current hand.</li>
  <li>System displays the current hand of cards.</li>
  <li>User selects cards to discard.</li>
  <li>System removes the selected cards and draws new cards to replace them.</li>
  <li>
    <p>System displays the updated hand.</p>

    <p>Use case ends.</p>
  </li>
</ol>

<p><strong>Extensions</strong></p>

<ul>
  <li>2a. The hand is empty.
    <ul>
      <li>Use case ends.</li>
    </ul>
  </li>
  <li>3a. The user selects invalid cards for discarding.
    <ul>
      <li>3a1. System shows an error message.</li>
      <li>Use case resumes at step 2.</li>
    </ul>
  </li>
</ul>

<hr />

<h3 id="use-case-save-game-progress">Use case: Save Game Progress</h3>

<p><strong>MSS (Main Success Scenario)</strong></p>

<ol>
  <li>User requests to save the game.</li>
  <li>System serializes the current game state.</li>
  <li>System saves the serialized data to a file.</li>
  <li>
    <p>System confirms that the game has been successfully saved.</p>

    <p>Use case ends.</p>
  </li>
</ol>

<p><strong>Extensions</strong></p>

<ul>
  <li>3a. The file cannot be created or written.
    <ul>
      <li>3a1. System shows an error message indicating failure to save.</li>
      <li>Use case ends.</li>
    </ul>
  </li>
</ul>

<hr />

<h3 id="use-case-load-saved-game">Use case: Load Saved Game</h3>

<p><strong>MSS (Main Success Scenario)</strong></p>

<ol>
  <li>User requests to load a previously saved game.</li>
  <li>System presents a list of available saved game files.</li>
  <li>User selects a saved game file to load.</li>
  <li>System reads the file and deserializes the game state.</li>
  <li>
    <p>System initializes the game to the loaded state.</p>

    <p>Use case ends.</p>
  </li>
</ol>

<p><strong>Extensions</strong></p>

<ul>
  <li>2a. No saved game files are found.
    <ul>
      <li>Use case ends.</li>
    </ul>
  </li>
  <li>4a. The selected file is corrupted or incompatible.
    <ul>
      <li>4a1. System shows an error message.</li>
      <li>Use case ends.</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="non-functional-requirements">Non-Functional Requirements</h2>

<h3 id="performance-requirements">Performance Requirements</h3>
<ul>
  <li>The system should be able to process user commands and update the game state within <strong>0.5 seconds</strong> of user input.</li>
  <li>The system should support a <strong>minimum of 1000 hands played</strong> without noticeable performance degradation.</li>
</ul>

<h3 id="reliability-requirements">Reliability Requirements</h3>
<ul>
  <li>The game should <strong>not crash or produce errors</strong> during normal gameplay for at least <strong>20 hours of continuous use</strong>.</li>
  <li>Saved game data must be <strong>correctly serialized and deserialized</strong> to ensure that saved progress is accurately restored.</li>
</ul>

<h3 id="availability-requirements">Availability Requirements</h3>
<ul>
  <li>The application should be available <strong>99.9% of the time</strong> when executed on a compatible platform.</li>
  <li>Saved games should remain accessible even after <strong>abrupt termination of the application</strong>.</li>
</ul>

<h3 id="usability-requirements">Usability Requirements</h3>
<ul>
  <li>The system should provide <strong>clear and concise error messages</strong> when invalid commands are entered.</li>
  <li>The CLI interface should support <strong>standard text-based commands</strong> and provide detailed help instructions.</li>
</ul>

<h3 id="security-requirements">Security Requirements</h3>
<ul>
  <li>Saved game files should be protected from <strong>unauthorized modification</strong> by ensuring <strong>read-only access</strong> unless within the game environment.</li>
  <li>The system should prevent <strong>malformed input</strong> from causing crashes or corrupting game data.</li>
</ul>

<h3 id="portability-requirements">Portability Requirements</h3>
<ul>
  <li>The game should be compatible with <strong>Windows, Linux, and MacOS</strong>.</li>
  <li>The system should work on <strong>both 32-bit and 64-bit architectures</strong>.</li>
</ul>

<h3 id="maintainability-requirements">Maintainability Requirements</h3>
<ul>
  <li>The codebase should maintain a <strong>test coverage of at least 90%</strong> to ensure robustness against changes.</li>
  <li>The architecture should allow for <strong>adding new game rules and features with minimal modification to existing code</strong>.</li>
</ul>

<h3 id="scalability-requirements">Scalability Requirements</h3>
<ul>
  <li>The game should support <strong>future expansion</strong> to include additional game modes or card types without requiring a complete rewrite of the core system.</li>
  <li>The system should handle <strong>at least 10 concurrent games</strong> if implemented in a multiplayer environment.</li>
</ul>

<h3 id="documentation-requirements">Documentation Requirements</h3>
<ul>
  <li>Comprehensive documentation should be available for:
    <ul>
      <li><strong>Installation and setup</strong></li>
      <li><strong>Gameplay instructions</strong></li>
      <li><strong>Developer guides</strong> with architecture diagrams and explanations.</li>
    </ul>
  </li>
</ul>

<h3 id="glossary">Glossary</h3>

<ul>
  <li><strong>Ante</strong>: The initial bet placed by players before cards are dealt.</li>
  <li><strong>Poker Hand</strong>: A set of cards evaluated according to poker rules.</li>
  <li><strong>Deck</strong>: A collection of cards used in the game.</li>
</ul>

<hr />

<h3 id="dependencies">Dependencies</h3>

<ul>
  <li>TO ADD</li>
</ul>



      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
